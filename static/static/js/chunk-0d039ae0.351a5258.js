(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d039ae0"],{"1d77":function(e,t,i){"use strict";i("ef3a")},"48e5":function(e,t,i){"use strict";i("7568")},"58da":function(e,t,i){"use strict";i.r(t);i("7f7f");var l=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("div",{staticStyle:{display:"flex","justify-content":"space-between","min-width":"700px"}},[t("div",[t("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v("\n                    搜索\n                ")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cleanSearchValues()}}},[t("i",{class:e.showAdvanceSearchView?"fa fa-angle-double-up":"fa fa-angle-double-down",attrs:{"aria-hidden":"true"}}),e._v("\n                    高级搜索\n                ")])],1),t("div",[t("el-button",{attrs:{disabled:!e.power,type:"primary",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n                    添加员工\n                ")])],1)]),t("transition",{attrs:{name:"slide-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdvanceSearchView,expression:"showAdvanceSearchView"}],staticStyle:{border:"1px solid #409eff","border-radius":"5px","box-sizing":"border-box",padding:"5px",margin:"10px 0px","min-width":"740px"}},[t("el-row",[t("el-col",[e._v("\n                        职位:\n                        "),t("el-select",{staticStyle:{width:"130px","margin-right":"20px"},attrs:{placeholder:"职位",size:"mini"},model:{value:e.searchValue.positionId,callback:function(t){e.$set(e.searchValue,"positionId",t)},expression:"searchValue.positionId"}},e._l(e.positions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v("\n                        身份证号码:\n                        "),t("el-input",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{placeholder:"身份证号码进行搜索...","prefix-icon":"el-icon-search",clearable:""},model:{value:e.searchValue.cardId,callback:function(t){e.$set(e.searchValue,"cardId",t)},expression:"searchValue.cardId"}}),e._v("\n                        性别：\n                        "),t("el-radio-group",{staticStyle:{"margin-right":"10px"},model:{value:e.searchValue.sex,callback:function(t){e.$set(e.searchValue,"sex",t)},expression:"searchValue.sex"}},[t("el-radio",{attrs:{label:"1"}},[e._v("男")]),t("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1)],1),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",[e._v("\n                        手机号码:\n                        "),t("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{placeholder:"手机号码进行搜索...","prefix-icon":"el-icon-search",clearable:""},model:{value:e.searchValue.phone,callback:function(t){e.$set(e.searchValue,"phone",t)},expression:"searchValue.phone"}}),e._v("\n                        所属部门:\n                        "),t("el-popover",{staticStyle:{"margin-right":"40px"},attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.showSearchDepView,callback:function(t){e.showSearchDepView=t},expression:"showSearchDepView"}},[t("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.searvhViewHandleNodeClick}}),t("div",{staticStyle:{width:"130px",display:"inline-flex","font-size":"13px",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer","align-items":"center","padding-left":"8px","box-sizing":"border-box","margin-left":"3px"},attrs:{slot:"reference"},on:{click:e.showDepView2},slot:"reference"},[e._v(e._s(e.emp.department.name)+"\n                            ")])],1),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdvanceSearchView=!e.showAdvanceSearchView}}},[t("i",{class:e.showAdvanceSearchView?"fa fa-angle-double-up":"fa fa-angle-double-down",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.showAdvanceSearchView()}}}),e._v("\n                            取消\n                        ")]),t("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.initEmps("advanced")}}},[e._v("搜索")])],1)],1)],1)])],1),t("div",{staticStyle:{"margin-top":"10px","min-width":"700px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,stripe:"",border:"","element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"40"}}),t("el-table-column",{attrs:{prop:"name",fixed:"",align:"left",label:"姓名",width:"70"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别",align:"left",width:"50"}}),t("el-table-column",{attrs:{prop:"cardId",label:"身份证号码",align:"left",width:"200"}}),t("el-table-column",{attrs:{prop:"birthday",width:"150",align:"left",label:"出生日期"}}),t("el-table-column",{attrs:{prop:"tel",width:"150",align:"left",label:"电话号码"}}),t("el-table-column",{attrs:{prop:"phone",width:"150",align:"left",label:"手机号码"}}),t("el-table-column",{attrs:{prop:"email",width:"150",label:"电子邮件"}}),t("el-table-column",{attrs:{prop:"qqNum",width:"150",label:"QQ账号"}}),t("el-table-column",{attrs:{prop:"address",width:"150",label:"联系地址"}}),t("el-table-column",{attrs:{prop:"postCode",width:"100",label:"邮政编码"}}),t("el-table-column",{attrs:{prop:"department.name",width:"100",align:"left",label:"所属部门"}}),t("el-table-column",{attrs:{prop:"position.name",width:"150",label:"职位"}}),t("el-table-column",{attrs:{prop:"party",width:"100",align:"left",label:"政治面貌"}}),t("el-table-column",{attrs:{prop:"race",width:"100",align:"left",label:"民族"}}),t("el-table-column",{attrs:{prop:"education",width:"100",align:"left",label:"学历"}}),t("el-table-column",{attrs:{prop:"speciality",width:"150",align:"left",label:"专业名称"}}),t("el-table-column",{attrs:{prop:"hobby",width:"150",align:"left",label:"爱好"}}),t("el-table-column",{attrs:{prop:"remark",width:"200",align:"left",label:"自我描述"}}),t("el-table-column",{attrs:{prop:"createDate",width:"150",align:"left",label:"记录日期"}}),t("el-table-column",{attrs:{fixed:"right",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{staticStyle:{padding:"3px"},attrs:{disabled:!e.power,size:"mini",type:"primary"},on:{click:function(t){return e.showEditEmpView(i.row)}}},[e._v("编辑")]),t("el-button",{staticStyle:{padding:"3px"},attrs:{disabled:!e.power,size:"mini",type:"danger"},on:{click:function(t){return e.deleteEmp(i.row)}}},[e._v("删除")])]}}])})],1),t("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection.length||!e.power},on:{click:e.deleteMany}},[e._v("批量删除\n        ")]),t("div",{staticStyle:{display:"flex","justify-content":"flex-end","min-width":"700px"}},[t("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),t("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"1370px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",[t("el-form",{ref:"empForm",attrs:{model:e.emp,rules:e.rules}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[t("el-radio-group",{model:{value:e.emp.sex,callback:function(t){e.$set(e.emp,"sex",t)},expression:"emp.sex"}},[t("el-radio",{attrs:{label:1}},[e._v("男")]),t("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"出生日期:",prop:"birthday"}},[t("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"出生日期"},model:{value:e.emp.birthday,callback:function(t){e.$set(e.emp,"birthday",t)},expression:"emp.birthday"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"政治面貌:",prop:"party"}},[t("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"政治面貌",size:"mini"},model:{value:e.emp.party,callback:function(t){e.$set(e.emp,"party",t)},expression:"emp.party"}},e._l(e.politicsStatus,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"民族:",prop:"race"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"民族",size:"mini"},model:{value:e.emp.race,callback:function(t){e.$set(e.emp,"race",t)},expression:"emp.race"}},e._l(e.nations,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"电子邮箱:",prop:"email"}},[t("el-input",{staticStyle:{width:"170px"},attrs:{size:"mini","prefix-icon":"el-icon-message",placeholder:"请输入电子邮箱"},model:{value:e.emp.email,callback:function(t){e.$set(e.emp,"email",t)},expression:"emp.email"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"QQ号码:",prop:"qqNum"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入QQ号码"},model:{value:e.emp.qqNum,callback:function(t){e.$set(e.emp,"qqNum",t)},expression:"emp.qqNum"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入联系地址"},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"职位:",prop:"position"}},[t("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"职位",size:"mini"},model:{value:e.emp.position.id,callback:function(t){e.$set(e.emp.position,"id",t)},expression:"emp.position.id"}},e._l(e.positions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"所属部门:",prop:"department"}},[t("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.showAddDepView,callback:function(t){e.showAddDepView=t},expression:"showAddDepView"}},[t("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),t("div",{staticStyle:{width:"150px",display:"inline-flex","font-size":"13px",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer","align-items":"center","padding-left":"8px","box-sizing":"border-box"},attrs:{slot:"reference"},on:{click:e.showDepView},slot:"reference"},[e._v(e._s(e.emp.department.name)+"\n                                ")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"电话号码:",prop:"tel"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-phone",placeholder:"电话号码"},model:{value:e.emp.tel,callback:function(t){e.$set(e.emp,"tel",t)},expression:"emp.tel"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"手机号码:",prop:"phone"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-phone",placeholder:"电话号码"},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"学历:",prop:"education"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"学历",size:"mini"},model:{value:e.emp.education,callback:function(t){e.$set(e.emp,"education",t)},expression:"emp.education"}},e._l(e.educations,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"专业名称:",prop:"speciality"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入专业名称"},model:{value:e.emp.speciality,callback:function(t){e.$set(e.emp,"speciality",t)},expression:"emp.speciality"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"身份证号码:",prop:"cardId"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入身份证号码"},model:{value:e.emp.cardId,callback:function(t){e.$set(e.emp,"cardId",t)},expression:"emp.cardId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"爱好:",prop:"hobby"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入爱好"},model:{value:e.emp.hobby,callback:function(t){e.$set(e.emp,"hobby",t)},expression:"emp.hobby"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"自我描述:",prop:"remark"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入对自我的描述"},model:{value:e.emp.remark,callback:function(t){e.$set(e.emp,"remark",t)},expression:"emp.remark"}})],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"邮政编码:",prop:"postCode"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入邮政编码"},model:{value:e.emp.postCode,callback:function(t){e.$set(e.emp,"postCode",t)},expression:"emp.postCode"}})],1)],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e.isEditEmp?t("el-button",{on:{click:function(t){return e.resetForm("empForm")}}},[e._v("重置")]):e._e(),t("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmp}},[e._v("确 定")])],1)])],1)},a=[],s=(i("a481"),{name:"EmpBasic",data:function(){var e=function(e,t,i){null===t.id?i(new Error("请选择部门")):i()},t=function(e,t,i){null===t.id?i(new Error("请选择职位")):i()};return{searchValue:{positionId:null,departmentId:null,cardId:null,phone:null,sex:null},title:"",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",importDataDisabled:!1,showAdvanceSearchView:!1,showSearchDepView:!1,showAddDepView:!1,allDeps:[],addAllDeps:[],emps:[],multipleSelection:[],power:1!=JSON.parse(window.sessionStorage.getItem("user")).status,loading:!1,popVisible:!1,popVisible2:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:10,nations:[],joblevels:[],politicsStatus:[],positions:[],isEditEmp:!1,educations:["硕士","博士","本科","大专","高中","初中","小学","其他"],inputDepName:"所属部门",emp:{id:null,name:"javaboy",sex:1,birthday:"1989-12-31",cardId:"610122199001011256",nationId:1,race:"",politicId:13,party:"",email:"laowang@qq.com",phone:"13737214728",tel:"13737214728",qqNum:"823631154",address:"深圳市南山区",departmentId:null,positionId:29,education:"本科",speciality:"信息管理与信息系统",postCode:"524400",hobby:"乒乓球",remark:"描述",createDate:null,position:{id:null},department:{id:null}},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],cardId:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/^\w+$/,message:"身份证号码格式不正确",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/,message:"手机格式不正确",trigger:"blur"}],tel:[{required:!0,message:"请输入电话号码",trigger:"blur"}],qqNum:[{required:!0,message:"请输入QQ号码",trigger:"blur"},{pattern:/^\d+$/,message:"QQ号码格式不正确",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],race:[{required:!0,message:"请输入民族",trigger:"blur"}],party:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],department:[{required:!0,validator:e,trigger:"blur"}],position:[{required:!0,validator:t,trigger:"blur"}],education:[{required:!0,message:"请输入学历",trigger:"blur"}],speciality:[{required:!0,message:"请输入专业",trigger:"blur"}],hobby:[{required:!0,message:"请输入爱好",trigger:"blur"}],remark:[{required:!0,message:"请输入对自我的描述",trigger:"blur"}],postCode:[{required:!0,message:"请输入联系地址的邮政编码",trigger:"blur"},{pattern:/^\d+$/,message:"邮政编码格式不正确",trigger:"blur"}]}}},mounted:function(){this.initEmps(),this.initPositions()},methods:{cleanSearchValues:function(){this.searchValue.positionId=null,this.searchValue.departmentId=null,this.searchValue.cardId=null,this.searchValue.phone=null,this.searchValue.sex=null,this.inputDepName="所属部门",this.showAdvanceSearchView=!this.showAdvanceSearchView},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){null!==e.multipleSelection&&e.deleteRequest("/employee/basic/ids/",e.multipleSelection).then((function(t){20000402===t.status?e.$router.replace("/"):200===t.status&&e.initEmps()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentId=e.id,this.showSearchDepView=!this.showSearchDepView},onError:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.initEmps()},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},exportData:function(){window.open("/employee/basic/export","_parent")},emptyEmp:function(){this.emp={id:null,name:"",sex:null,birthday:"",cardId:"",nationId:1,race:"",politicId:13,party:"",email:"",phone:"",tel:"",qqNum:"",address:"",departmentId:null,positionId:29,education:"",specialty:"",postCode:"",hobby:"",remark:"",position:{id:null},department:{id:null}},this.inputDepName=""},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){null!==e.id&&""!==e.name&&t.deleteRequest("/employee/basic/",e).then((function(e){20000402===e.status?t.$router.replace("/"):200===e.status&&t.initEmps()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doAddEmp:function(){var e=this;null!==this.emp.id?this.$refs["empForm"].validate((function(t){t&&e.putRequest("/employee/basic/",e.emp).then((function(t){20000402===t.status?e.$router.replace("/"):200===t.status&&(e.dialogVisible=!1,e.initEmps())}))})):this.$refs["empForm"].validate((function(t){t&&e.postRequest("/employee/basic/",e.emp).then((function(t){20000402===t.status?e.$router.replace("/"):200===t.status&&(e.dialogVisible=!1,e.initEmps())}))}))},handleNodeClick:function(e){this.emp.department=Object.assign({},e),this.showAddDepView=!this.showAddDepView},showDepView:function(){this.showAddDepView=!this.showAddDepView},showDepView2:function(){this.showSearchDepView=!this.showSearchDepView},initData:function(){var e=this;window.sessionStorage.getItem("nations")?null!==this.nations&&(this.nations=JSON.parse(window.sessionStorage.getItem("nations"))):this.getRequest("/employee/basic/nations").then((function(t){t&&(e.nations=t.obj,window.sessionStorage.setItem("nations",JSON.stringify(t.obj)))})),window.sessionStorage.getItem("politicsStatus")?null!==this.politicsStatus&&(this.politicsStatus=JSON.parse(window.sessionStorage.getItem("politicsStatus"))):this.getRequest("/employee/basic/politicsStatus").then((function(t){t&&(e.politicsStatus=t.obj,window.sessionStorage.setItem("politicsStatus",JSON.stringify(t.obj)))})),window.sessionStorage.getItem("department")?null!==this.allDeps&&(this.allDeps=JSON.parse(window.sessionStorage.getItem("department"))):this.getRequest("/department/basic/").then((function(t){t&&(e.allDeps=t.obj,window.sessionStorage.setItem("department",JSON.stringify(t.obj)))})),window.sessionStorage.getItem("positions")?null!==this.positions&&(this.positions=JSON.parse(window.sessionStorage.getItem("positions"))):this.getRequest("/position/basic/").then((function(t){t&&(e.positions=t.obj,window.sessionStorage.setItem("positions",JSON.stringify(t.obj)))}))},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},showEditEmpView:function(e){this.resetForm("empForm"),this.initData(),this.title="编辑员工信息",this.emp=Object.assign({},e),this.isEditEmp=!1,this.dialogVisible=!0},showAddEmpView:function(){this.emptyEmp(),this.resetForm("empForm"),this.initData(),this.title="添加员工",this.addAllDeps=this.allDeps,this.isEditEmp=!0,this.dialogVisible=!0},initEmps:function(e){var t=this;this.loading=!0;var i="/employee/basic/?page="+this.page+"&size="+this.size;e&&"advanced"==e?(this.searchValue.positionId&&(i+="&positionId="+this.searchValue.positionId),this.searchValue.departmentId&&(i+="&departmentId="+this.searchValue.departmentId),this.searchValue.cardId&&(i+="&cardId="+this.searchValue.cardId),this.searchValue.phone&&(i+="&phone="+this.searchValue.phone),this.searchValue.sex&&(i+="&sex="+this.searchValue.sex)):i+="&name="+this.keyword,this.getRequest(i).then((function(e){t.loading=!1,20000402===e.status?t.$router.replace("/"):200===e.status?(t.emps=e.obj.data,t.total=e.obj.total):200!=e.status&&(t.emps=null,t.total=0)}))}}}),r=s,n=(i("1d77"),i("2877")),o=Object(n["a"])(r,l,a,!1,null,null,null);t["default"]=o.exports},7568:function(e,t,i){},"9a78":function(e,t,i){"use strict";i.r(t);i("7f7f");var l=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex",margin:"30px 10px"}},[t("div",{staticStyle:{border:"2px solid skyblue",padding:"20px",margin:"0 auto",width:"80%","min-width":"1370px"}},[t("el-form",{ref:"empForm",attrs:{model:e.emp,rules:e.rules,disabled:!e.power}},[t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[t("el-radio-group",{model:{value:e.emp.sex,callback:function(t){e.$set(e.emp,"sex",t)},expression:"emp.sex"}},[t("el-radio",{attrs:{label:1}},[e._v("男")]),t("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"出生日期:",prop:"birthday"}},[t("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"出生日期"},model:{value:e.emp.birthday,callback:function(t){e.$set(e.emp,"birthday",t)},expression:"emp.birthday"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"政治面貌:",prop:"party"}},[t("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"政治面貌",size:"mini"},model:{value:e.emp.party,callback:function(t){e.$set(e.emp,"party",t)},expression:"emp.party"}},e._l(e.politicsStatus,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"民族:",prop:"race"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"民族",size:"mini"},model:{value:e.emp.race,callback:function(t){e.$set(e.emp,"race",t)},expression:"emp.race"}},e._l(e.nations,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"电子邮箱:",prop:"email"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-message",placeholder:"请输入电子邮箱"},model:{value:e.emp.email,callback:function(t){e.$set(e.emp,"email",t)},expression:"emp.email"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"QQ号码:",prop:"qqNum"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入QQ号码"},model:{value:e.emp.qqNum,callback:function(t){e.$set(e.emp,"qqNum",t)},expression:"emp.qqNum"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入联系地址"},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"职位:",prop:"position"}},[t("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"职位",size:"mini"},model:{value:e.emp.position.id,callback:function(t){e.$set(e.emp.position,"id",t)},expression:"emp.position.id"}},e._l(e.positions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"所属部门:",prop:"department"}},[t("el-popover",{attrs:{disabled:!e.power,placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.showAddDepView,callback:function(t){e.showAddDepView=t},expression:"showAddDepView"}},[t("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),t("div",{staticStyle:{width:"150px",display:"inline-flex","font-size":"13px",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer","align-items":"center","padding-left":"8px","box-sizing":"border-box"},attrs:{slot:"reference"},on:{click:e.showDepView},slot:"reference"},[e._v(e._s(e.emp.department.name)+"\n                            ")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"电话号码:",prop:"tel"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-phone",placeholder:"电话号码"},model:{value:e.emp.tel,callback:function(t){e.$set(e.emp,"tel",t)},expression:"emp.tel"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"手机号码:",prop:"phone"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-phone",placeholder:"电话号码"},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"学历:",prop:"education"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"学历",size:"mini"},model:{value:e.emp.education,callback:function(t){e.$set(e.emp,"education",t)},expression:"emp.education"}},e._l(e.educations,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"专业名称:",prop:"speciality"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入专业名称"},model:{value:e.emp.speciality,callback:function(t){e.$set(e.emp,"speciality",t)},expression:"emp.speciality"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"身份证号码:",prop:"cardId"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入身份证号码"},model:{value:e.emp.cardId,callback:function(t){e.$set(e.emp,"cardId",t)},expression:"emp.cardId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"爱好:",prop:"hobby"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入爱好"},model:{value:e.emp.hobby,callback:function(t){e.$set(e.emp,"hobby",t)},expression:"emp.hobby"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"自我描述:",prop:"remark"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入对自我的描述"},model:{value:e.emp.remark,callback:function(t){e.$set(e.emp,"remark",t)},expression:"emp.remark"}})],1)],1),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"邮政编码:",prop:"postCode"}},[t("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入邮政编码"},model:{value:e.emp.postCode,callback:function(t){e.$set(e.emp,"postCode",t)},expression:"emp.postCode"}})],1)],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",staticStyle:{margin:"30px","min-width":"126px"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:!e.power},on:{click:function(t){return e.resetForm("empForm")}}},[e._v("重置")]),t("el-button",{attrs:{disabled:!e.power,type:"primary"},on:{click:e.doAddEmp}},[e._v("确 定")])],1)])},a=[],s=(i("a481"),{name:"EmpBasic",data:function(){var e=function(e,t,i){null===t.id?i(new Error("请选择部门")):i()},t=function(e,t,i){null===t.id?i(new Error("请选择职位")):i()};return{power:1!==JSON.parse(window.sessionStorage.getItem("user")).status,showAddDepView:!1,allDeps:[],addAllDeps:[],emps:[],nations:[],politicsStatus:[],positions:[],educations:["硕士","博士","本科","大专","高中","初中","小学","其他"],inputDepName:"所属部门",emp:{id:null,name:null,sex:null,birthday:null,cardId:null,nationId:1,race:null,politicId:null,party:null,email:null,phone:null,tel:null,qqNum:null,address:null,departmentId:null,positionId:null,education:null,specialty:null,postCode:null,hobby:null,remark:null,position:{id:null},department:{id:null}},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],cardId:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/^\w+$/,message:"身份证号码格式不正确",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/,message:"手机格式不正确",trigger:"blur"}],tel:[{required:!0,message:"请输入电话号码",trigger:"blur"}],qqNum:[{required:!0,message:"请输入QQ号码",trigger:"blur"},{pattern:/^\d+$/,message:"QQ号码格式不正确",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],race:[{required:!0,message:"请输入民族",trigger:"blur"}],party:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],department:[{required:!0,validator:e,trigger:"blur"}],position:[{required:!0,validator:t,trigger:"blur"}],education:[{required:!0,message:"请输入学历",trigger:"blur"}],speciality:[{required:!0,message:"请输入专业",trigger:"blur"}],hobby:[{required:!0,message:"请输入爱好",trigger:"blur"}],remark:[{required:!0,message:"请输入对自我的描述",trigger:"blur"}],postCode:[{required:!0,message:"请输入联系地址的邮政编码",trigger:"blur"},{pattern:/^\d+$/,message:"邮政编码格式不正确",trigger:"blur"}]}}},mounted:function(){this.power&&this.initData()},methods:{resetForm:function(e){this.$refs[e].resetFields()},emptyEmp:function(){this.emp={id:null,name:"",sex:null,birthday:"",cardId:"",nationId:1,race:"",politicId:13,party:"",email:"",phone:"",tel:"",qqNum:"",address:"",departmentId:null,positionId:29,education:"",specialty:"",postCode:"",hobby:"",remark:"",position:{id:null},department:{id:null}},this.inputDepName=""},doAddEmp:function(){var e=this;null===this.emp.id&&this.$refs["empForm"].validate((function(t){t&&e.postRequest("/employee/basic/",e.emp).then((function(t){20000402===t.status?e.$router.replace("/"):200===t.status&&e.resetForm("empForm")}))}))},handleNodeClick:function(e){this.emp.department=Object.assign({},e),this.showAddDepView=!this.showAddDepView},showDepView:function(){this.showAddDepView=!this.showAddDepView},initData:function(){var e=this;window.sessionStorage.getItem("nations")?null!==this.nations&&(this.nations=JSON.parse(window.sessionStorage.getItem("nations"))):this.getRequest("/employee/basic/nations").then((function(t){t&&(e.nations=t.obj,window.sessionStorage.setItem("nations",JSON.stringify(t.obj)))})),window.sessionStorage.getItem("politicsStatus")?null!==this.politicsStatus&&(this.politicsStatus=JSON.parse(window.sessionStorage.getItem("politicsStatus"))):this.getRequest("/employee/basic/politicsStatus").then((function(t){t&&(e.politicsStatus=t.obj,window.sessionStorage.setItem("politicsStatus",JSON.stringify(t.obj)))})),window.sessionStorage.getItem("department")?null!==this.allDeps&&(this.allDeps=JSON.parse(window.sessionStorage.getItem("department"))):this.getRequest("/department/basic/").then((function(t){t&&(e.allDeps=t.obj,window.sessionStorage.setItem("department",JSON.stringify(t.obj)))})),window.sessionStorage.getItem("positions")?null!==this.positions&&(this.positions=JSON.parse(window.sessionStorage.getItem("positions"))):this.getRequest("/position/basic/").then((function(t){t&&(e.positions=t.obj,window.sessionStorage.setItem("positions",JSON.stringify(t.obj)))}))}}}),r=s,n=(i("48e5"),i("2877")),o=Object(n["a"])(r,l,a,!1,null,null,null);t["default"]=o.exports},ef3a:function(e,t,i){}}]);
//# sourceMappingURL=chunk-0d039ae0.351a5258.js.map